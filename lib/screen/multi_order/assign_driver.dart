import 'package:flutter/material.dart';import 'package:fw_manager/controller/common_controller.dart';import 'package:fw_manager/controller/order_merge_controller.dart';import 'package:fw_manager/core/widgets/common_widgets/common_button.dart';import 'package:fw_manager/core/widgets/common_widgets/searchable_list.dart';import 'package:get/get.dart';class AssignDriverScreen extends StatefulWidget {  const AssignDriverScreen({Key? key}) : super(key: key);  @override  State<AssignDriverScreen> createState() => _AssignDriverScreenState();}class _AssignDriverScreenState extends State<AssignDriverScreen> {  final orderMergeController = Get.put(OrderMergeController());  final CommonController _commonController = Get.find();  @override  Widget build(BuildContext context) {    return GetBuilder<OrderMergeController>(      builder: (_) {        return Scaffold(          appBar: AppBar(            elevation: 1,            automaticallyImplyLeading: true,            foregroundColor: Colors.white,            title: const Text(              "Assign Driver",              style: TextStyle(                fontSize: 20,              ),              textScaleFactor: 1,              textAlign: TextAlign.center,            ),          ),          body: Column(            children: [              GestureDetector(                onTap: () {                  showRequestedVehicleModel(context);                },                child: Container(                  decoration: BoxDecoration(                    color: Colors.grey[200],                    border: Border(                      bottom: BorderSide(                        color: Theme.of(context).primaryColor,                        width: 1.0,                      ),                    ),                  ),                  padding: const EdgeInsets.all(10),                  child: Column(                    crossAxisAlignment: CrossAxisAlignment.start,                    children: [                      const Text(                        "Requested Vehicle",                      ),                      const SizedBox(height: 15),                      Row(                        mainAxisAlignment: MainAxisAlignment.spaceBetween,                        crossAxisAlignment: CrossAxisAlignment.start,                        children: [                          const Expanded(                            child: Text('Please Select'),                          ),                          Icon(                            Icons.arrow_drop_down,                            color: Theme.of(context).primaryColor,                          ),                        ],                      ),                    ],                  ),                ),              ).paddingAll(10),              GestureDetector(                onTap: () {                  showAssignDriverModel(context);                },                child: Container(                  decoration: BoxDecoration(                    color: Colors.grey[200],                    border: Border(                      bottom: BorderSide(                        color: Theme.of(context).primaryColor,                        width: 1.0,                      ),                    ),                  ),                  padding: const EdgeInsets.all(10),                  child: Column(                    crossAxisAlignment: CrossAxisAlignment.start,                    children: [                      const Text(                        "Assign Driver",                      ),                      const SizedBox(height: 15),                      Row(                        mainAxisAlignment: MainAxisAlignment.spaceBetween,                        crossAxisAlignment: CrossAxisAlignment.start,                        children: [                          const Expanded(                            child: Text('Please Select'),                          ),                          Icon(                            Icons.arrow_drop_down,                            color: Theme.of(context).primaryColor,                          ),                        ],                      ),                    ],                  ),                ),              ).paddingAll(10),              TextFormField(                controller: orderMergeController.amountController,                keyboardType: TextInputType.number,                decoration: InputDecoration(                  fillColor: Colors.grey[200],                  labelText: "Driver Amount",                  filled: true,                  enabledBorder: UnderlineInputBorder(                    borderSide: BorderSide(                      color: Theme.of(context).primaryColor.withOpacity(0.4),                      width: 2,                    ),                  ),                  focusedBorder: UnderlineInputBorder(                    borderSide: BorderSide(                      color: Theme.of(context).primaryColor,                      width: 2,                    ),                  ),                ),              ).paddingAll(10),              commonButton(                onTap: () {},                text: "Place Order",                height: 50.0,                color: Colors.green,              ).paddingAll(10),            ],          ),        );      },    );  }  showRequestedVehicleModel(context) {    showModalBottomSheet<void>(      backgroundColor: Colors.transparent,      context: context,      isScrollControlled: true,      enableDrag: false,      builder: (BuildContext context) {        return Container(          height: Get.height * 0.43,          decoration: const BoxDecoration(            color: Colors.white,            borderRadius: BorderRadius.only(              topLeft: Radius.circular(10),              topRight: Radius.circular(10),            ),          ),          padding: MediaQuery.of(context).viewInsets,          child: SearchableListView(            isLive: false,            isOnSearch: false,            itemList: const [],            bindText: 'name',            bindValue: '_id',            labelText: 'Requested Vehicle',            hintText: 'Please Select',            onSelect: (val, text) {              Navigator.pop(context);            },          ),        );      },    );  }  showAssignDriverModel(context) {    showModalBottomSheet<void>(      backgroundColor: Colors.transparent,      context: context,      isScrollControlled: true,      enableDrag: false,      builder: (BuildContext context) {        return Container(          height: Get.height * 0.7,          decoration: const BoxDecoration(            color: Colors.white,            borderRadius: BorderRadius.only(              topLeft: Radius.circular(10),              topRight: Radius.circular(10),            ),          ),          padding: MediaQuery.of(context).viewInsets,          child: SearchableListView(            isLive: false,            isOnSearch: true,            itemList: const [],            bindText: 'name',            bindValue: '_id',            labelText: 'Assign Driver',            hintText: 'Please Select',            onSelect: (val, text) {              Navigator.pop(context);            },          ),        );      },    );  }}